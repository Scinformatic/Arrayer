cases:
  - case: identity_matrix
    input: [[1.0, 0.0], [0.0, 1.0]]
    variance_type: unbiased
    expected:
      P: [ [-0.7071067,  0.7071068], [-0.7071068, -0.7071067] ]
      variance: [1, 0]
      t: [-0.5, -0.5]
      transformed: [[-0.7071068, 0], [ 0.70710677, 0 ]]
  - case: batch_identity
    input:
      - [[1.0, 0.0], [0.0, 1.0]]
      - [[2.0, 0.0], [0.0, 2.0]]
    variance_type: unbiased
    expected:
      P:
        - [[-0.7071067,  0.7071068], [-0.7071068, -0.7071067]]
        - [[-0.7071067,  0.7071068], [-0.7071068, -0.7071067]]
      variance:
        - [1, 0]
        - [4, 0]
      t:
        - [-0.5, -0.5]
        - [-1.0, -1.0]
      transformed:
        - [[-0.7071068, 0], [0.70710677, 0]]
        - [[-1.4142137, 0], [1.4142135, 0]]
